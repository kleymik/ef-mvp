<!DOCTYPE html>
<meta charset="utf-8">

<body>

  <div class ='header'>
    <h2> EF-MVP-IP: Efficient Fontier / Minimum-Variance Portfolio Interactive Plot</h2>
  </div>

  <div class ='mvp_plot1'>
    <iframe src='http://localhost:2345/html/mvpPlot.html' frameborder='2' scrolling='no' width=900 height=600 id='iframe_plot1'></iframe>
  </div>

  <div class ='header'>
    <h3> EF-MVP-IP Description</h3>
    <p>
      This X-Y plot shows the risk(X) and return(Y) of a portfolio given the risks, returns, and weights of its constituent assets (four in this example).

      The <i>area</i> (not the diameter) of each circle represents the <i>weight</i> the given asset in the portfolio.

      The Total Portfolio (100% weight) is the fifth circle, shown in <font color="red">red</font>.

      <h4> Asset Weights </h4>
    <p>
      <b>Dragging</b> on the circle increases or decreases its size, and hence the weight of that asset in the Portfolio.

      As the dragged asset's weight is decreased (increased), all other assets will have their weights increased (decreased) in equal measure.

    <p>
      The <font color="blue">blue</font> curve is the hyperbola showing the minimum possible risk for a given desired return, the leftmost frontier of the Total Portfolio. The curve remains fixed if it is only the asset weight proportions that is being varied by dragging their sizes.

      <h4> Asset Risk and Return </h4>
    <p>
      Holding down the <i>shift key</i> and <b>dragging</b> a circle will change the asset's risk (horizontal) and/or return (vertical) characteristics.

      In this case, the efficient frontier curve is recomputed and so changes shape.

    <h4> Asset Correlations </h4>
    <p>
      The lines between the circles represent the correlations between the two assets at each end: <font color="red">red</font> if the pair are negative correlated, <font color="green">green</font> is they are postively correlated.

      <b>Dragging</b> on the line vertically will change the correlation between the two assets: <i>upward</i> increases the correlation (towards <i>+1.0</i>), <i>downward</i> decreases the correlation (towards <i>-1.0</i>).

      In this case, the efficient frontier curve is recomputed and so changes shape.

    <h4> Initial Values </h4>
    <p>
      The initial risk, return, correlation, etc values of the portfolio's assets are kept in the file portfolioAssetsAndCharacteristics_4.json

    <h4> Details </h4>
    <p>
     The top-level d3.js calling code is in html/mvpPlot.html.
     The accompanying jupyter/sympy python notebook illustrates the formulas to recompute the plot.
    <h4> TBD </h4>
    <p>
      <ul>
      <li>numerical stability check/limit, change js matrix library?</li>
      <li>implement hyperbola as SVG NURB</li>
      <li>bells and whistles</li>
  </ul>


  </div>
    <div class ='header'>
      <h3>Acknowledgements</h3>
      <ul>
      <li>the code uses <i>d3.js</i> and a library <i>numeric.js</i> for matrix computations in javascript.</li>
      <li>the code was start by modifying an example scatterplot.js from Mike Bostock.</li>
      </ul>

     Mike Kleyn 2013-2020
</body>

<!--
Iframes can best be described as embedded HTML document within another HTML document. They can best be defined as such:

<iframe id="content"></iframe>
In order to get something to show up within the embedded iframe, you have to first get the “contentDocument” of the iframe element you previously defined (reference definition of iframe above).

let doc = document.getElementById("content").contentDocument;
The “contentDocument” is then what you can use to pass to the “select” method of D3.js.

d3.select(doc);
// continue rest of D3.js code
-->
